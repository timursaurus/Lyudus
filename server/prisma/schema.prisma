datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       Int      @id @default(autoincrement())
  email    String   @unique
  name     String?
  username String   @unique @db.VarChar(30)
  threads  Thread[]
}

// model Profile {
//   id     Int     @default(autoincrement()) @id
//   bio    String?
//   user User @relation(fields: [userId], references: [id])
//   userId Int @unique
// }

model Thread {
  id         Int      @id @default(autoincrement())
  title      String
  content    String   @db.VarChar(8000)
  created_at DateTime @default(now())
  author     User     @relation(fields: [authorId], references: [id])
  authorId   Int
  topic      Topic[]
}

// model Article {
//   id Int @default(autoincrement()) @id
//   title String
//   content String @db.VarChar(8000)
//   created_at DateTime @default(now())
//   updated_at DateTime @updatedAt
//   published Boolean @default(false)
//   author User @relation(fields: [authorId], references: [id])
//   authorId Int
// }

model Topic {
  id      Int      @id @default(autoincrement())
  name    String
  threads Thread[] @relation(references: [id])
}

model Community {
  id   Int    @id @default(autoincrement())
  name String
}
